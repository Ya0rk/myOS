pub type SysResult<T=()> = Result<T, Errno>;

#[derive(Debug, PartialEq, Copy, Clone)]
pub enum Errno {
    // 这是waitpid使用的返回值
    NOPID = -1,
    HAVEPID = -2,

    ErrUNDEF = 0,
    ErrPERM = 1,
    ErrNOENT = 2,
    ErrSRCH = 3,
    ErrINTR = 4,
    ErrIO = 5,
    ErrNXIO = 6,
    Err2BIG = 7,
    ErrNOEXEC = 8,
    ErrBADF = 9,
    ErrCHILD = 10,
    ErrAGAIN = 11,
    ErrNOMEM = 12,
    ErrACCES = 13,
    ErrFAULT = 14,
    ErrNOTBLK = 15,
    ErrBUSY = 16,
    ErrEXIST = 17,
    ErrXDEV = 18,
    ErrNODEV = 19,
    ErrNOTDIR = 20,
    ErrISDIR = 21,
    ErrINVAL = 22,
    ErrNFILE = 23,
    ErrMFILE = 24,
    ErrNOTTY = 25,
    ErrTXTBSY = 26,
    ErrFBIG = 27,
    ErrNOSPC = 28,
    ErrSPIPE = 29,
    ErrROFS = 30,
    ErrMLINK = 31,
    ErrPIPE = 32,
    ErrDOM = 33,
    ErrRANGE = 34,
    ErrDEADLK = 35,
    ErrNAMETOOLONG = 36,
    ErrNOLCK = 37,
    ErrNOSYS = 38,
    ErrNOTEMPTY = 39,
    ErrLOOP = 40,
    ErrNOMSG = 42,
    ErrIDRM = 43,
    ErrCHRNG = 44,
    ErrL2NSYNC = 45,
    ErrL3HLT = 46,
    ErrL3RST = 47,
    ErrLNRNG = 48,
    ErrUNATCH = 49,
    ErrNOCSI = 50,
    ErrL2HLT = 51,
    ErrBADE = 52,
    ErrBADR = 53,
    ErrXFULL = 54,
    ErrNOANO = 55,
    ErrBADRQC = 56,
    ErrBADSLT = 57,
    ErrBFONT = 59,
    ErrNOSTR = 60,
    ErrNODATA = 61,
    ErrTIME = 62,
    ErrNOSR = 63,
    ErrNONET = 64,
    ErrNOPKG = 65,
    ErrREMOTE = 66,
    ErrNOLINK = 67,
    ErrADV = 68,
    ErrSRMNT = 69,
    ErrCOMM = 70,
    ErrPROTO = 71,
    ErrMULTIHOP = 72,
    ErrDOTDOT = 73,
    ErrBADMSG = 74,
    ErrOVERFLOW = 75,
    ErrNOTUNIQ = 76,
    ErrBADFD = 77,
    ErrREMCHG = 78,
    ErrLIBACC = 79,
    ErrLIBBAD = 80,
    ErrLIBSCN = 81,
    ErrLIBMAX = 82,
    ErrLIBEXEC = 83,
    ErrILSEQ = 84,
    ErrRESTART = 85,
    ErrSTRPIPE = 86,
    ErrUSERS = 87,
    ErrNOTSOCK = 88,
    ErrDESTADDRREQ = 89,
    ErrMSGSIZE = 90,
    ErrPROTOTYPE = 91,
    ErrNOPROTOOPT = 92,
    ErrPROTONOSUPPORT = 93,
    ErrSOCKTNOSUPPORT = 94,
    ErrOPNOTSUPP = 95,
    ErrPFNOSUPPORT = 96,
    ErrAFNOSUPPORT = 97,
    ErrADDRINUSE = 98,
    ErrADDRNOTAVAIL = 99,
    ErrNETDOWN = 100,
    ErrNETUNREACH = 101,
    ErrNETRESET = 102,
    ErrCONNABORTED = 103,
    ErrCONNRESET = 104,
    ErrNOBUFS = 105,
    ErrISCONN = 106,
    ErrNOTCONN = 107,
    ErrSHUTDOWN = 108,
    ErrTOOMANYREFS = 109,
    ErrTIMEDOUT = 110,
    ErrCONNREFUSED = 111,
    ErrHOSTDOWN = 112,
    ErrHOSTUNREACH = 113,
    ErrALREADY = 114,
    ErrINPROGRESS = 115,
    ErrSTALE = 116,
    ErrUCLEAN = 117,
    ErrNOTNAM = 118,
    ErrNAVAIL = 119,
    ErrISNAM = 120,
    ErrREMOTEIO = 121,
    ErrDQUOT = 122,
    ErrNOMEDIUM = 123,
    ErrMEDIUMTYPE = 124,
    ErrCANCELED = 125,
    ErrNOKEY = 126,
    ErrKEYEXPIRED = 127,
    ErrKEYREVOKED = 128,
    ErrKEYREJECTED = 129,
    ErrOWNERDEAD = 130,
    ErrNOTRECOVERABLE = 131,
    ErrRFKILL = 132,
    ErrHWPOISON = 133,
    ErrBADCALL = 200,
}

impl Errno {
    pub fn get_info(&self) -> &'static str{
        use self::Errno::*;
        match self {
            ErrBADCALL => "syscall failed",
            ErrPERM => "Operation not permitted",
            ErrNOENT => "No such file or directory",
            ErrSRCH => "No such process",
            ErrINTR => "Interrupted system call",
            ErrIO => "I/O error",
            ErrNXIO => "No such device or address",
            Err2BIG => "Argument list too long",
            ErrNOEXEC => "Exec format error",
            ErrBADF => "file number out of bounds",
            ErrCHILD => "No child processes",
            ErrAGAIN => "Try again",
            ErrNOMEM => "Out of memory",
            ErrACCES => "Permission denied",
            ErrFAULT => "Bad address",
            ErrNOTBLK => "Block device required",
            ErrBUSY => "Device or resource busy",
            ErrEXIST => "File exists",
            ErrXDEV => "Cross-device link",
            ErrNODEV => "No such device",
            ErrNOTDIR => "Not a directory",
            ErrISDIR => "Is a directory",
            ErrINVAL => "Invalid argument",
            ErrNFILE => "File table overflow",
            ErrMFILE => "Too many open files",
            ErrNOTTY => "Not a typewriter",
            ErrTXTBSY => "Text file busy",
            ErrFBIG => "File too large",
            ErrNOSPC => "No space left on device",
            ErrSPIPE => "Illegal seek",
            ErrROFS => "Read-only file system",
            ErrMLINK => "Too many links",
            ErrPIPE => "Broken pipe",
            ErrDOM => "Math argument out of domain of func",
            ErrRANGE => "Math result not representable",
            ErrDEADLK => "Resource deadlock would occur",
            ErrNAMETOOLONG => "File name too long",
            ErrNOLCK => "No record locks available",
            ErrNOSYS => "Invalid system call number",
            ErrNOTEMPTY => "Directory not empty",
            ErrNOTCONN => "Transport endpoint is not connected",
            ErrCONNREFUSED => "Connection refused",
            _ => "Unknown error",
        }
    }
}