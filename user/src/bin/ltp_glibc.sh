#!/bin/sh

echo "#### OS COMP TEST GROUP START ltp-glibc ####"

# Define target directory
target_dir="/glibc/ltp/testcases/bin"

backip="
accept01
accept03
add_key01
add_key04
alarm02
alarm03
alarm05
alarm06
alarm07
bind01
brk01
capget01
chmod01
chmod03
chmod05
chown01
chown02
chown03
chown05
chroot02
clock_getres01
clock_gettime02
clock_nanosleep04
close01
close_range02
creat01
clone01
clone03
clone06
clone07
clone08
dup01
dup02
dup03
dup04
dup07
dup202
dup203
dup204
dup207
dup3_01
dup3_02
exit02
faccessat01
faccessat201
fchdir01
fchdir02
fchown01
fchown02
fchown05
fcntl02
fcntl02_64
fcntl03
fcntl03_64
fcntl04
fcntl04_64
fcntl05
fcntl05_64
fcntl08
fcntl08_64
fcntl13
fcntl13_64
fcntl29
fcntl29_64
fcntl34
fcntl34_64
fork01
fork03
fork04
fork07
fork08
fork10
fstat02
fstat02_64
fstat03
fstat03_64
getcwd01
getdomainname01
getgid01
gethostname01
getitimer01
getitimer02
getpeername01
getpgid01
getpid02
getsockname01
getsockopt01
keyctl03
keyctl04
lseek01
lseek07
llseek02
llseek03
lstat02
lstat02_64
mkdir05
mknod01
mknod02
mq_open01
mmap02
mmap06
mmap09
mmap19
open01
open02
open03
open11
open_by_handle_at01
openat01
openat202
pipe01
pipe06
pipe10
pipe11
pipe14
pipe2_01
pread01
pread01_64
process_vm_readv03
process_vm_writev02
pwrite01
pwrite01_64
pwrite02
pwrite02_64
pwrite03
pwrite03_64
pwrite04
pwrite04_64
read01
read02
read04
readdir01
readv01
recvmsg02
request_key01
request_key05
rmdir01
sbrk01
sbrk02
semctl07
semget01
setdomainname01
setdomainname02
setfsuid02
setgid01
setgroups01
setgroups02
sethostname01
sethostname02
setregid01
setregid04
setreuid01
setrlimit02
setrlimit03
setsockopt01
setsockopt03
settimeofday02
setuid01
setxattr02
shmctl02
shmctl03
shmctl04
shmctl07
shmctl08
shmem_2nstest
shmnstest
signal01
signal02
signal03
signal04
signal05
sigaltstack02
sigwait01
socket02
socketpair01
splice01
splice03
splice07
stat01
stat01_64
stat02
stat02_64
statx01
statx02
syscall01
wait01
wait02
wait401
waitid01
waitid04
waitid05
waitid06
waitid11
waitpid01
waitpid04
write01
write02
"

# List of test cases (no array, using space-separated string)
# you can add prog you want to test.if it succeed, you can put it in var backip.
# from jdlu
ltp_cases="
accept01
"


for case in $backip; do
  file="$target_dir/$case"

  if [ -f "$file" ]; then
    echo "RUN LTP CASE $case"

    "$file"
    ret=$?

    echo "FAIL LTP CASE $case : $ret"
    /musl/busybox rm -f "$file"
  fi
done

echo "#### OS COMP TEST GROUP END ltp-glibc ####"